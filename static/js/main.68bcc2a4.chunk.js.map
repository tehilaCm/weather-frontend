{"version":3,"sources":["actions/index.js","components/Navbar.js","api/index.js","utility/useUserId.js","components/WeatherCard.js","components/PopularCities.js","components/Home.js","components/Spinner.js","components/ClearHistoryPopup.js","components/History.js","assets/sky.jpg","components/Backdrop.js","components/Auth.js","App.js","reducers/reducerUtils.js","reducers/user.js","reducers/auth.js","store/index.js","index.js"],"names":["actions","Proxy","get","target","prop","undefined","args","type","actionName","replace","toUpperCase","payload","connect","state","user","auth","dispatch","setUser","logout","useEffect","JSON","parse","localStorage","getItem","closeNav","$","css","hide","history","useHistory","className","to","onClick","data-bs-toggle","aria-expanded","aria-label","toggle","id","aria-current","push","API","axios","create","baseURL","interceptors","request","use","req","headers","Authorization","token","getWeatherByCityForSystem","cities","signUp","formData","post","signIn","weatherByCity","city","userId","getSearches","deletSearch","searchId","delete","deletAllSearches","useUserId","useSelector","useDispatch","a","decodedToken","decode","expirationTime","exp","Date","now","deleteHistorySearch","deleteSearch","weatherDetails","isHistory","feelsLike","humidity","pressure","temp","tempMax","tempMin","wind","_id","speed","deg","useState","setUserId","getUserDetails","response","status","parseInt","PopularCities","React","forwardRef","props","ref","handleClick","citiesTemp","setCitiesTemp","setCitiesTempFunc","data","resultAllCities","map","index","current","value","clickCity","cityRef","useRef","details","setDetails","showCard","setShowCard","error","setError","handelSubmit","e","preventDefault","alert","result","weather","style","padding","role","onSubmit","placeholder","Spinner","Modal","setAppElement","ClearHistoryPopup","modalIsOpen","setIsOpen","clearHistory","isOpen","onRequestClose","overlayClassName","base","afterOpen","beforeClose","Container","Row","Col","whiteSpace","textAlign","Button","marginLeft","searchHistory","setSearchHistory","isLoading","setIsLoading","setSearches","searches","console","log","length","display","flexWrap","flexDirection","item","Backdrop","isSignUp","setIsSignUp","displayBackdrop","setDisplayBackdrop","emailRef","passwordRef","confirmPasswordRef","toastError","message","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","handelSignUp","handelSignIn","email","password","borderColor","confirmPassword","aria-describedby","backgroundColor","color","App","exact","path","component","Auth","Home","History","newestOnTop","rtl","transition","Slide","pauseOnFocusLoss","reducersHandlers","action","handlers","handler","toLowerCase","v","filter","search","reducer","produce","reducerHendler","initialState","authData","setItem","stringify","clear","combineReducers","store","createStore","window","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oPAIA,IAaeA,EAbC,IAAIC,MAClB,GACA,CACEC,IAAK,SAAUC,EAAQC,GACrB,YAAqBC,IAAjBF,EAAOC,GACF,SAAUE,GACf,MAAO,CAAEC,MAVQC,EAUgBJ,EATlCI,EAAWC,QAAQ,WAAY,OAAOC,eASGC,QAASL,GAV3D,IAA2BE,GAYPL,EAAOC,M,OCoFZQ,eAZS,SAACC,GACvB,MAAO,CACLC,KAAMD,EAAME,KAAKD,SAIM,SAACE,GAC1B,MAAO,CACLC,QAAS,SAACH,GAAD,OAAUE,EAAShB,EAAQiB,QAAQH,KAC5CI,OAAQ,kBAAMF,EAAShB,EAAQkB,cAGpBN,EAzFA,SAAC,GAA+B,IAA7BK,EAA4B,EAA5BA,QAASH,EAAmB,EAAnBA,KAAMI,EAAa,EAAbA,OAC/BC,qBAAU,WACRF,EAAQG,KAAKC,MAAMC,aAAaC,QAAQ,eACvC,IAEH,IAAMC,EAAW,WAEC,UADFC,IAAE,aAAaC,IAAI,YACRD,IAAE,cAAcE,KAAK,SAG1CC,EAAUC,cAOhB,OAAKf,EAKH,8BACE,qBAAKgB,UAAU,gDAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,cAAC,IAAD,CACEA,UAAU,qBACVC,GAAG,QACHC,QAAS,kBAAMR,KAHjB,qBAOA,wBACEM,UAAU,iBACVvB,KAAK,SACL0B,iBAAe,WACfC,gBAAc,QACdC,aAAW,oBACXH,QAAS,kBAAMP,IAAE,cAAcW,OAAO,SANxC,SAQE,sBAAMN,UAAU,0BAElB,sBAAKA,UAAU,2BAA2BO,GAAG,YAA7C,UACE,qBAAIP,UAAU,aAAd,UACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,kBACVQ,eAAa,OACbP,GAAG,QACHC,QAAS,kBAAMR,KAJjB,oBASF,oBAAIM,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,WACVC,GAAG,WACHC,QAAS,kBAAMR,KAHjB,0BASJ,wBACEM,UAAU,6BACVE,QAtDS,WACnBd,IACAU,EAAQW,KAAK,MAkDL,8BA9CD,Q,8CCvBLC,E,OAAMC,EAAMC,OAAO,CACvBC,QAAS,8CAGXH,EAAII,aAAaC,QAAQC,KAAI,SAACC,GAO5B,OANIzB,aAAaC,QAAQ,aACvBwB,EAAIC,QAAQC,cAAZ,iBACE7B,KAAKC,MAAMC,aAAaC,QAAQ,YAAY2B,QAIzCH,KAGF,IAAMI,EAA4B,SAACC,GAAD,OACvCZ,EAAItC,IAAJ,4CAA6CkD,KAElCC,EAAS,SAACC,GAAD,OAAcd,EAAIe,KAAK,cAAeD,IAC/CE,EAAS,SAACF,GAAD,OAAcd,EAAIe,KAAK,cAAeD,IAE/CG,EAAgB,SAACC,EAAMC,GAAP,OAC3BnB,EAAItC,IAAJ,6BAA8BwD,EAA9B,YAAsCC,KAE3BC,EAAc,SAACD,GAAD,OAAYnB,EAAItC,IAAJ,2BAA4ByD,KAEtDE,EAAc,SAACF,EAAQG,GAAT,OACzBtB,EAAIuB,OAAJ,2BAA+BJ,EAA/B,YAAyCG,KAE9BE,EAAmB,SAACL,GAAD,OAC9BnB,EAAIuB,OAAJ,gCAAoCJ,K,QCGvBM,EA5BG,WAEhB,IAAIN,EAAS,GAEP7C,EAAOoD,aAAY,SAACrD,GAAD,OAAWA,EAAME,KAAKD,QAEzCc,EAAUC,cAEVb,EAAWmD,cAiBjB,OAfoB,uCAAG,gCAAAC,EAAA,6DACflB,EADe,OACPpC,QADO,IACPA,OADO,EACPA,EAAMoC,SAEZmB,EAAeC,YAAOpB,GAC5BS,EAASU,EAAahC,GAChBkC,EAAoC,IAAnBF,EAAaG,IAAa,IAC7CC,KAAKC,OAASH,IAChBvD,EAAShB,EAAQkB,UACjBU,EAAQW,KAAK,OARI,kBAYd,CAAEoB,SAAQT,UAZI,2CAAH,sD,QCuGPtC,eAbS,SAACC,GACvB,MAAO,CACLC,KAAMD,EAAME,KAAKD,SAIM,SAACE,GAC1B,MAAO,CACL2D,oBAAqB,SAACtC,GAAD,OAAQrB,EAAShB,EAAQ4E,aAAavC,KAC3DnB,OAAQ,kBAAMF,EAAShB,EAAQkB,cAIpBN,EA3GK,SAAC,GAMd,IALLiE,EAKI,EALJA,eACAC,EAII,EAJJA,UACAhE,EAGI,EAHJA,KACA6D,EAEI,EAFJA,oBACAzD,EACI,EADJA,OAGEwC,EASEmB,EATFnB,KACAqB,EAQEF,EARFE,UACAC,EAOEH,EAPFG,SACAC,EAMEJ,EANFI,SACAC,EAKEL,EALFK,KACAC,EAIEN,EAJFM,QACAC,EAGEP,EAHFO,QACAC,EAEER,EAFFQ,KACAC,EACET,EADFS,IAEMC,EAAeF,EAAfE,MAAOC,EAAQH,EAARG,IAZX,EAcwBC,mBAAS,IAdjC,mBAcG9B,EAdH,KAcW+B,EAdX,KAeE9D,EAAUC,cACV8D,EAAiB1B,IAEvB9C,oBAAS,sBAAC,8BAAAiD,EAAA,sEACwBuB,IADxB,gBACAhC,EADA,EACAA,OADA,EACQT,OAGdwC,EAAU/B,GAJJ,2CAMP,CAAC7C,IAEJ,IAAM8D,EAAY,uCAAG,sBAAAR,EAAA,0DACfT,IAAU2B,EADK,wBAEjBX,EAAoBW,GAFH,kBAITzB,EAAYF,EAAQ2B,GAJX,uDAMX,KAAMM,UAAsC,MAA1B,KAAMA,SAASC,SACnC3E,IACAU,EAAQW,KAAK,MARA,yDAAH,qDAclB,OACE,qBACET,UACEgD,EACI,wCACA,2BAJR,SAOE,sBAAKhD,UAAU,YAAf,UACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,OAAd,SAAsB4B,IACtB,sBAAK5B,UAAU,MAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,uCACSgE,SAASZ,EAAO,QAAU,IADnC,IACwC,cAAC,IAAD,OAExC,6CACeY,SAASf,EAAY,QAAU,IAAK,IACjD,cAAC,IAAD,OAEF,2CACae,SAASX,EAAU,QAAU,IAD1C,IAC+C,cAAC,IAAD,OAE/C,2CACaW,SAASV,EAAU,QAAU,IAD1C,IAC+C,cAAC,IAAD,UAIjD,sBAAKtD,UAAU,iBAAf,UACE,2CAAcgE,SAASd,GAAY,OACnC,2CAAcC,KACd,sCACA,wCAAWM,KACX,yCACWO,SAASN,EAAM,QAAU,IADpC,IACyC,cAAC,IAAD,gBAM9CV,GACC,cAAC,IAAD,CAAiBhD,UAAU,aAAaE,QAAS4C,Y,QC5B5CmB,EAhEOC,IAAMC,YAAW,SAACC,EAAOC,GAC7C,IAAM/C,EAAS,CACb,SACA,aACA,WACA,YACA,WACA,QACA,SACA,YACA,QACA,YACA,cACA,UACA,UACA,gBACA,WACA,aAGMgD,EAAgBF,EAAhBE,YApB6C,EAsBjBX,mBAAS,IAtBQ,mBAsB9CY,EAtB8C,KAsBlCC,EAtBkC,KAwBrDnF,qBAAU,WACRoF,EAAkBF,KACjB,IAEH,IAAME,EAAiB,uCAAG,gCAAAnC,EAAA,sEACHjB,EAA0BC,GADvB,gBAClBoD,EADkB,EAClBA,KACAC,EAAoBD,EAApBC,gBAENH,EAAc,YAAIG,IAJM,2CAAH,qDAYvB,GAAIJ,EACF,OACE,sBAAKvE,UAAU,mBAAf,UACE,0DACCuE,EAAWK,KAAI,SAAChD,EAAMiD,GACrB,OACE,sBACE7E,UAAU,eAEVE,QAAS,kBAdH,SAAC0B,GACjByC,EAAIS,QAAQC,MAAQnD,EACpB0C,IAYyBU,CAAUpD,EAAKA,OAHhC,UAKE,4BAAIA,EAAKA,OACT,oBAAG5B,UAAU,OAAb,UACGgE,SAASpC,EAAKwB,KAAO,QAAU,IAChC,cAAC,IAAD,SANGyB,YCyCJ/F,eAZS,SAACC,GACvB,MAAO,CACLC,KAAMD,EAAME,KAAKD,SAIM,SAACE,GAC1B,MAAO,CACLE,OAAQ,kBAAMF,EAAShB,EAAQkB,cAIpBN,EAhFF,SAAC,GAAsB,IAApBE,EAAmB,EAAnBA,KAAMI,EAAa,EAAbA,OACd6F,EAAUC,iBAAO,MADU,EAGLvB,mBAAS,IAHJ,mBAG1B9B,EAH0B,KAGlB+B,EAHkB,OAIHD,mBAAS,IAJN,mBAI1BwB,EAJ0B,KAIjBC,EAJiB,OAKDzB,oBAAS,GALR,mBAK1B0B,EAL0B,KAKhBC,EALgB,OAMP3B,oBAAS,GANF,mBAM1B4B,EAN0B,KAMnBC,EANmB,KAQ3B1F,EAAUC,cAEV8D,EAAiB1B,IAEvB9C,qBAAU,WACRM,IAAE,QAAQC,IAAI,mBAAoB,uCACjC,IAEHP,oBAAS,sBAAC,8BAAAiD,EAAA,sEACwBuB,IADxB,gBACAhC,EADA,EACAA,OADA,EACQT,OAGdwC,EAAU/B,GAJJ,2CAMP,CAAC7C,IAEJ,IAAMyG,EAAY,uCAAG,WAAOC,GAAP,uBAAApD,EAAA,yDACfoD,GAAGA,EAAEC,iBAEH/D,EAAOqD,EAAQH,QAAQC,MAHV,yCAKVa,MAAM,2BALI,UAQnBX,EAAQH,QAAQC,MAAQ,IACpBnD,IAAQC,EATO,iCAWf2D,GAAS,GAXM,UAYQ7D,EAAcC,EAAMC,GAZ5B,iBAYP6C,EAZO,EAYPA,KACAmB,EAAWnB,EAAXmB,OACAC,EAAYD,EAAZC,QACRV,EAAWU,GACXR,GAAY,GAhBG,kDAkBX,KAAMxB,UAAsC,MAA1B,KAAMA,SAASC,SACnC3E,IACAU,EAAQW,KAAK,MAEf+E,GAAS,GAtBM,0DAAH,sDA2BlB,OACE,sBAAKO,MAAO,CAAEC,QAAS,QAAvB,UACGT,GACC,qBAAKvF,UAAU,gCAAgCiG,KAAK,QAApD,2CAIF,uBAAMjG,UAAU,qBAAqBkG,SAAUT,EAA/C,UACE,cAAC,IAAD,CAAUzF,UAAU,gBACpB,uBAAOvB,KAAK,OAAO0H,YAAY,gBAAgB9B,IAAKY,OAErDI,GAAY,cAAC,EAAD,CAAatC,eAAgBoC,IAC1C,cAAC,EAAD,CAAeb,YAAamB,EAAcpB,IAAKY,UCrEtCmB,EARC,WACd,OACE,qBAAKpG,UAAU,gCAAf,SACE,qBAAKA,UAAU,sBAAsBiG,KAAK,c,kDCAhDI,IAAMC,cAAc,SAEpB,IAiDeC,EAjDW,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,YAAaC,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,aAKnD,OACE,8BACE,eAAC,IAAD,CACEC,OAAQH,EACRI,eARN,WACEH,GAAU,IAQNI,iBAAkB,CAChBC,KAAM,eACNC,UAAW,gBACXC,YAAa,kBAEfhH,UAAW,CACT8G,KAAM,eACNC,UAAW,gBACXC,YAAa,kBAXjB,UAcE,qBAAKhH,UAAU,YAEf,eAACiH,EAAA,EAAD,CAAWlB,MAAO,CAAEC,QAAS,QAA7B,UACE,cAACkB,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,mBAAGpB,MAAO,CAAEqB,WAAY,SAAUC,UAAW,UAA7C,+DAKJ,eAACH,EAAA,EAAD,CAAKlH,UAAU,oBAAf,UACE,cAACmH,EAAA,EAAD,CAAKpB,MAAO,CAAEC,QAAS,KAAvB,SACE,cAACsB,EAAA,EAAD,CAAQtH,UAAU,aAAaE,QAAS,kBAAMuG,GAAU,IAAxD,sBAIF,cAACU,EAAA,EAAD,CAAKpB,MAAO,CAAEC,QAAS,IAAKuB,WAAY,OAAxC,SACE,cAACD,EAAA,EAAD,CAAQtH,UAAU,YAAYE,QAASwG,EAAvC,iCC8DC5H,eAZS,SAACC,GACvB,MAAO,CACLyI,cAAezI,EAAMC,KAAKwI,kBAIH,SAACtI,GAC1B,MAAO,CACLuI,iBAAkB,SAAC/C,GAAD,OAAUxF,EAAShB,EAAQuJ,iBAAiB/C,QAInD5F,EA7FC,SAAC,GAAyC,IAAvC2I,EAAsC,EAAtCA,iBAAkBD,EAAoB,EAApBA,cAAoB,EAC3B7D,mBAAS,IADkB,mBAChD9B,EADgD,KACxC+B,EADwC,OAErBD,oBAAS,GAFY,mBAEhD+D,EAFgD,KAErCC,EAFqC,OAG3BhE,oBAAS,GAHkB,mBAGhDgD,EAHgD,KAGxCF,EAHwC,KAKjD5C,EAAiB1B,IAEvB9C,qBAAU,WACRM,IAAE,QAAQC,IAAI,mBAAoB,uCACjC,IAEHP,oBAAS,sBAAC,8BAAAiD,EAAA,6DACRqF,GAAa,GADL,SAGwB9D,IAHxB,gBAGAhC,EAHA,EAGAA,OAHA,EAGQT,QAGdwC,EAAU/B,GACNA,GAAQ+F,KAPN,2CASP,CAAC/F,IAEJ,IAAM+F,EAAW,uCAAG,gCAAAtF,EAAA,0DACdT,EADc,0CAGSC,EAAYD,GAHrB,gBAGN6C,EAHM,EAGNA,KACAmD,EAAanD,EAAbmD,SACRJ,EAAiBI,GACjBF,GAAa,GANC,kDAQdG,QAAQC,IAAR,MARc,0DAAH,qDAaXrB,EAAY,uCAAG,sBAAApE,EAAA,0DACfT,EADe,wBAEjB4F,EAAiB,IAFA,kBAITvF,EAAiBL,GAJR,uDAMfiG,QAAQC,IAAR,MANe,yDAAH,qDAWlB,OAAIL,EAAkB,cAAC,EAAD,IAEO,IAAzBF,EAAcQ,SAA8B,IAAdN,EAE9B,sBAAK3B,MAAO,CAAEkC,QAAS,OAAQC,SAAU,QAAzC,UACE,oBAAIlI,UAAU,SAAd,kCACA,cAAC,IAAD,CAAUA,UAAU,mBAKxB,qCACE,cAAC,EAAD,CACEwG,YAAaG,EACbF,UAAWA,EACXC,aAAcA,IAEhB,sBAAKX,MAAO,CAAEkC,QAAS,OAAQE,cAAe,UAA9C,UACE,oBAAInI,UAAU,SAAd,8BACA,wBACEA,UAAU,wBACVE,QAAS,kBAAMuG,GAAU,IAF3B,2BAMA,qBAAKzG,UAAU,qBAAf,SACGwH,EAAc5C,KAAI,SAACwD,EAAMvD,GAAP,OACjB,cAAC,EAAD,CAAyB9B,eAAgBqF,EAAMpF,WAAW,GAAxC6B,iBCvFf,G,MAAA,IAA0B,iCCW1BwD,EATE,WACf,OACE,qBAAKrI,UAAU,kBAAf,SACE,qBAAKA,UAAU,4CAA4CiG,KAAK,cCmLvDnH,cAAQ,MANI,SAACI,GAC1B,MAAO,CACLD,KAAM,SAACyF,GAAD,OAAUxF,EAAShB,EAAQe,KAAKyF,QAI3B5F,EAzKF,SAAC,GAAc,IAAZG,EAAW,EAAXA,KAAW,EACO0E,oBAAS,GADhB,mBAClB2E,EADkB,KACRC,EADQ,OAEqB5E,oBAAS,GAF9B,mBAElB6E,EAFkB,KAEDC,EAFC,KAInBC,EAAWxD,iBAAO,MAClByD,EAAczD,iBAAO,MACrB0D,EAAqB1D,iBAAO,MAE5BpF,EAAUC,cAEhBV,qBAAU,WACRM,IAAE,QAAQC,IAAI,mBAAd,eAA0CkG,EAA1C,SACC,IAEH,IAAM+C,EAAa,SAACC,GAClBC,IAAMxD,MAAMuD,EAAS,CACnBE,SAAU,aACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAU/K,KAIRgL,EAAY,uCAAG,WAAO/H,GAAP,iBAAAc,EAAA,sEAEjBmG,GAAmB,GAFF,SAGMlH,EAAOC,GAHb,gBAGTkD,EAHS,EAGTA,KACRzF,EAAKyF,GACL+D,GAAmB,GACnB3I,EAAQW,KAAK,SANI,kDAQjBgI,GAAmB,GACf,KAAM3E,UAAsC,MAA1B,KAAMA,SAASC,OACnC8E,EAAW,uBACRA,EAAW,4CAXC,0DAAH,sDAeZW,EAAY,uCAAG,WAAOhI,GAAP,iBAAAc,EAAA,sEAEjBmG,GAAmB,GAFF,SAGM/G,EAAOF,GAHb,gBAGTkD,EAHS,EAGTA,KACRzF,EAAKyF,GACL+D,GAAmB,GACnB3I,EAAQW,KAAK,SANI,kDAQjBgI,GAAmB,GACf,KAAM3E,UAAsC,MAA1B,KAAMA,SAASC,OACnC8E,EACE,gEAECA,EAAW,4CAbC,0DAAH,sDA4DlB,OACE,qCACGL,GAAmB,cAAC,EAAD,IACpB,uBAAMxI,UAAU,YAAYkG,SA9CX,SAACR,GACpBA,EAAEC,iBACF,IAAM8D,EAAQf,EAAS5D,QAAQC,MACzB2E,EAAWf,EAAY7D,QAAQC,MAKrC,GAHA2D,EAAS5D,QAAQiB,MAAM4D,YAAc,UACrChB,EAAY7D,QAAQiB,MAAM4D,YAAc,WAEnCF,EAEH,OADAf,EAAS5D,QAAQiB,MAAM4D,YAAc,MAC9Bd,EAAW,6BAGpB,IAAKa,EAEH,OADAf,EAAY7D,QAAQiB,MAAM4D,YAAc,MACjCd,EAAW,+BAGpB,IAAKP,EAAU,CACb,IAAMsB,EAAkBhB,EAAmB9D,QAAQC,MAGnD,GAFA6D,EAAmB9D,QAAQiB,MAAM4D,YAAc,WAE1CC,EAEH,OADAhB,EAAmB9D,QAAQiB,MAAM4D,YAAc,MACxCd,EAAW,mCAGpB,GAAIa,EAAS1B,OAAS,EAEpB,OADAW,EAAY7D,QAAQiB,MAAM4D,YAAc,MACjCd,EAAW,gDAGpB,GAAIa,IAAaE,EAGf,OAFAjB,EAAY7D,QAAQiB,MAAM4D,YAAc,MACxCf,EAAmB9D,QAAQiB,MAAM4D,YAAc,MACxCd,EAAW,2BAIjBP,EACAkB,EAAa,CAAEC,QAAOC,aADZH,EAAa,CAAEE,QAAOC,cAOnC,UACE,qBAAK1J,UAAU,OAAf,SACE,uBACEvB,KAAK,QACL0H,YAAY,gBACZnG,UAAU,eACV6J,mBAAiB,YACjBxF,IAAKqE,MAGT,qBAAK1I,UAAU,OAAf,SACE,uBACEvB,KAAK,WACL0H,YAAY,WACZnG,UAAU,eACVO,GAAG,wBACH8D,IAAKsE,OAGPL,GACA,qBAAKtI,UAAU,OAAf,SACE,uBACEvB,KAAK,WACL0H,YAAY,mBACZnG,UAAU,eACVO,GAAG,wBACH8D,IAAKuE,MAIX,wBACEnK,KAAK,SACLuB,UAAU,MACV+F,MAAO,CAAE+D,gBAAiB,UAAWC,MAAO,SAH9C,oBAOA,uBACA,uBACCzB,EACC,qCACE,mBAAGtI,UAAU,cAAb,wCACA,mBAAGA,UAAU,OAAOE,QAAS,kBAAMqI,GAAaD,IAAhD,wBAKF,qCACE,mBAAGtI,UAAU,cAAb,sCACA,mBAAGA,UAAU,OAAOE,QAAS,kBAAMqI,GAAaD,IAAhD,iCCpIG0B,MA3Bf,WACE,OACE,sBAAKhK,UAAU,MAAf,UACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOiK,OAAK,EAACC,KAAK,IAAIC,UAAWC,IACjC,cAAC,IAAD,CAAOF,KAAK,QAAQC,UAAWE,IAC/B,cAAC,IAAD,CAAOH,KAAK,WAAWC,UAAWG,UAGtC,cAAC,IAAD,CACEtB,SAAS,aACTC,UAAW,IACXC,iBAAiB,EACjBqB,aAAa,EACbpB,cAAY,EACZqB,KAAK,EACLC,WAAYC,IACZC,kBAAgB,EAChBtB,WAAS,EACTD,cAAY,Q,gBC1BL,SAASwB,EAAiB7L,EAAO8L,EAAQC,GACpD,IACIC,EAAUD,EADyBD,EAAOpM,KAJ9BuM,cAAcrM,QAAQ,UAAU,SAACsM,GAAD,OAAOA,EAAE,GAAGrM,kBAMzDmM,GAASA,EAAQhM,EAAO8L,GCJ/B,IAIM7L,EAAO,CACXyI,iBADW,SACM1I,EAAO8L,GACtB9L,EAAMyI,cAAgBqD,EAAOhM,SAE/BiE,aAJW,SAIE/D,EAAO8L,GAClB9L,EAAMyI,cAAgBzI,EAAMyI,cAAc0D,QACxC,SAACC,GAAD,OAAYA,EAAO3H,MAAQqH,EAAOhM,aASzBuM,GAJCC,aAAQ,SAACtM,EAAO8L,GAC9BS,EAAevM,EAAO8L,EAAQ7L,KAhBX,CACnBwI,cAAe,KCDX+D,GAAe,CACnBC,SAAU,KACVxM,KAAMM,KAAKC,MAAMC,aAAaC,QAAQ,aAGlCR,GAAO,CACXA,KADW,SACNF,EAAO8L,GACVrL,aAAaiM,QAAQ,UAAWnM,KAAKoM,UAAL,OAAeb,QAAf,IAAeA,OAAf,EAAeA,EAAQhM,UACvDE,EAAMyM,SAAN,OAAiBX,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAQnG,KACzB3F,EAAMC,KAAOM,KAAKC,MAAMC,aAAaC,QAAQ,aAE/CL,OANW,SAMJL,EAAO8L,GACZrL,aAAamM,QACb5M,EAAMyM,SAAW,KACjBzM,EAAMC,KAAO,MAEfG,QAXW,SAWHJ,EAAO8L,GACb9L,EAAMC,KAAO6L,EAAOhM,UAQTuM,GAJCC,aAAQ,SAACtM,EAAO8L,GAC9BE,EAAQhM,EAAO8L,EAAQ5L,MACtBsM,ICrBGH,GAAUQ,YAAgB,CAAE5M,QAAMC,UAElC4M,GAAQC,YAAYV,IAC1BW,OAAOF,MAAQA,GAEAA,UCHfG,IAASC,OACP,cAAC,IAAD,CAAUJ,MAAOA,GAAjB,SACE,cAAC,IAAMK,WAAP,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.68bcc2a4.chunk.js","sourcesContent":["function convertActionName(actionName) {\r\n  return actionName.replace(/([A-Z])/g, \"_$1\").toUpperCase();\r\n}\r\n\r\nconst actions = new Proxy(\r\n  {},\r\n  {\r\n    get: function (target, prop) {\r\n      if (target[prop] === undefined) {\r\n        return function (args) {\r\n          return { type: convertActionName(prop), payload: args };\r\n        };\r\n      } else return target[prop];\r\n    },\r\n  }\r\n);\r\n\r\nexport default actions;\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport $ from \"jquery\";\r\n\r\nimport actions from \"../actions\";\r\n\r\nconst Navbar = ({ setUser, user, logout }) => {\r\n  useEffect(() => {\r\n    setUser(JSON.parse(localStorage.getItem(\"profile\")));\r\n  }, []);\r\n\r\n  const closeNav = () => {\r\n    let display = $(\".collapse\").css(\"display\");\r\n    if (display === \"block\") $(\"#navbarNav\").hide(\"slow\");\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const handelLogout = () => {\r\n    logout();\r\n    history.push(\"/\");\r\n  };\r\n\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n        <div className=\"container-fluid\">\r\n          <Link\r\n            className=\"navbar-brand brand\"\r\n            to=\"/home\"\r\n            onClick={() => closeNav()}\r\n          >\r\n            Weather\r\n          </Link>\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n            onClick={() => $(\"#navbarNav\").toggle(\"slow\")}\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n            <ul className=\"navbar-nav\">\r\n              <li className=\"nav-item\">\r\n                <Link\r\n                  className=\"nav-link active\"\r\n                  aria-current=\"page\"\r\n                  to=\"/home\"\r\n                  onClick={() => closeNav()}\r\n                >\r\n                  Home\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link\r\n                  className=\"nav-link\"\r\n                  to=\"/history\"\r\n                  onClick={() => closeNav()}\r\n                >\r\n                  History\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n            <button\r\n              className=\"btn btn-primary logout-btn\"\r\n              onClick={handelLogout}\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.auth.user,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setUser: (user) => dispatch(actions.setUser(user)),\r\n    logout: () => dispatch(actions.logout()),\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\n","import axios from \"axios\";\r\n\r\nconst API = axios.create({\r\n  baseURL: \"https://weather-app-tehila.herokuapp.com/\",\r\n});\r\n\r\nAPI.interceptors.request.use((req) => {\r\n  if (localStorage.getItem(\"profile\")) {\r\n    req.headers.Authorization = `Bearer ${\r\n      JSON.parse(localStorage.getItem(\"profile\")).token\r\n    }`;\r\n  }\r\n\r\n  return req;\r\n});\r\n\r\nexport const getWeatherByCityForSystem = (cities) =>\r\n  API.get(`weather/getWeatherByCityForSystem/${cities}`);\r\n\r\nexport const signUp = (formData) => API.post(\"user/signUp\", formData);\r\nexport const signIn = (formData) => API.post(\"user/signIn\", formData);\r\n\r\nexport const weatherByCity = (city, userId) =>\r\n  API.get(`user/weatherByCity/${city}/${userId}`);\r\n\r\nexport const getSearches = (userId) => API.get(`user/getSearches/${userId}`);\r\n\r\nexport const deletSearch = (userId, searchId) =>\r\n  API.delete(`user/deletSearch/${userId}/${searchId}`);\r\n\r\nexport const deletAllSearches = (userId) =>\r\n  API.delete(`user/deletAllSearches/${userId}`);\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport decode from \"jwt-decode\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport actions from \"../actions\";\r\n\r\nconst useUserId = () => {\r\n  //   const [userId, setUserId] = useState(\"\");\r\n  let userId = \"\";\r\n\r\n  const user = useSelector((state) => state.auth.user);\r\n\r\n  const history = useHistory();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const getUserDetails = async () => {\r\n    const token = user?.token;\r\n    if (token) {\r\n      const decodedToken = decode(token);\r\n      userId = decodedToken.id;\r\n      const expirationTime = decodedToken.exp * 1000 - 60000;\r\n      if (Date.now() >= expirationTime) {\r\n        dispatch(actions.logout());\r\n        history.push(\"/\");\r\n      }\r\n    }\r\n\r\n    return { userId, token };\r\n  };\r\n\r\n  return getUserDetails;\r\n};\r\n\r\nexport default useUserId;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport useUserId from \"../utility/useUserId\";\r\n\r\nimport { BsFillTrashFill } from \"react-icons/bs\";\r\nimport { RiCelsiusFill } from \"react-icons/ri\";\r\n\r\nimport { deletSearch } from \"../api\";\r\nimport actions from \"../actions\";\r\n\r\nconst WeatherCard = ({\r\n  weatherDetails,\r\n  isHistory,\r\n  user,\r\n  deleteHistorySearch,\r\n  logout,\r\n}) => {\r\n  const {\r\n    city,\r\n    feelsLike,\r\n    humidity,\r\n    pressure,\r\n    temp,\r\n    tempMax,\r\n    tempMin,\r\n    wind,\r\n    _id,\r\n  } = weatherDetails;\r\n  const { speed, deg } = wind;\r\n\r\n  const [userId, setUserId] = useState(\"\");\r\n  const history = useHistory();\r\n  const getUserDetails = useUserId();\r\n\r\n  useEffect(async () => {\r\n    const { userId, token } = await getUserDetails();\r\n\r\n    if (token) {\r\n      setUserId(userId);\r\n    }\r\n  }, [user]);\r\n\r\n  const deleteSearch = async () => {\r\n    if (userId && _id) {\r\n      deleteHistorySearch(_id);\r\n      try {\r\n        await deletSearch(userId, _id);\r\n      } catch (error) {\r\n        if (error.response && error.response.status === 401) {\r\n          logout();\r\n          history.push(\"/\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        isHistory\r\n          ? \"card center weather-card history-card\"\r\n          : \"card center weather-card\"\r\n      }\r\n    >\r\n      <div className=\"card-body\">\r\n        <div className=\"container\">\r\n          <h5 className=\"city\">{city}</h5>\r\n          <div className=\"row\">\r\n            <div className=\"col sm-12 lg-6\">\r\n              <p>\r\n                Temp: {parseInt(temp - 273.15) + \" \"} <RiCelsiusFill />\r\n              </p>\r\n              <p>\r\n                Feels like: {parseInt(feelsLike - 273.15) + \" \"}{\" \"}\r\n                <RiCelsiusFill />\r\n              </p>\r\n              <p>\r\n                Temp max: {parseInt(tempMax - 273.15) + \" \"} <RiCelsiusFill />\r\n              </p>\r\n              <p>\r\n                Temp min: {parseInt(tempMin - 273.15) + \" \"} <RiCelsiusFill />\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"col sm-12 lg-6\">\r\n              <p>Humidity: {parseInt(humidity) + \"%\"}</p>\r\n              <p>Pressure: {pressure}</p>\r\n              <p>Wind:</p>\r\n              <p>Speed: {speed}</p>\r\n              <p>\r\n                Degree: {parseInt(deg - 273.15) + \" \"} <RiCelsiusFill />\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {isHistory && (\r\n          <BsFillTrashFill className=\"trash-icon\" onClick={deleteSearch} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.auth.user,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    deleteHistorySearch: (id) => dispatch(actions.deleteSearch(id)),\r\n    logout: () => dispatch(actions.logout()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WeatherCard);\r\n","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nimport { RiCelsiusFill } from \"react-icons/ri\";\r\n\r\nimport { getWeatherByCityForSystem } from \"../api\";\r\n\r\nconst PopularCities = React.forwardRef((props, ref) => {\r\n  const cities = [\r\n    \"Ashdod\",\r\n    \"Beer sheva\",\r\n    \"Ashkelon\",\r\n    \"Bnei brak\",\r\n    \"Herzliya\",\r\n    \"Holon\",\r\n    \"Hadera\",\r\n    \"Jerusalem\",\r\n    \"Haifa\",\r\n    \"kfar Saba\",\r\n    \"Petah Tikva\",\r\n    \"Netanya\",\r\n    \"Rehovot\",\r\n    \"Rishon LeZion\",\r\n    \"Tel Aviv\",\r\n    \"Ramat Gan\",\r\n  ];\r\n\r\n  const { handleClick } = props;\r\n\r\n  const [citiesTemp, setCitiesTemp] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setCitiesTempFunc(citiesTemp);\r\n  }, []);\r\n\r\n  const setCitiesTempFunc = async () => {\r\n    let { data } = await getWeatherByCityForSystem(cities);\r\n    let { resultAllCities } = data;\r\n\r\n    setCitiesTemp([...resultAllCities]);\r\n  };\r\n\r\n  const clickCity = (city) => {\r\n    ref.current.value = city;\r\n    handleClick();\r\n  };\r\n\r\n  if (citiesTemp) {\r\n    return (\r\n      <div className=\"cities-container\">\r\n        <h4>Popular cities in Israel</h4>\r\n        {citiesTemp.map((city, index) => {\r\n          return (\r\n            <div\r\n              className=\"popular-city\"\r\n              key={index}\r\n              onClick={() => clickCity(city.city)}\r\n            >\r\n              <p>{city.city}</p>\r\n              <p className=\"temp\">\r\n                {parseInt(city.temp - 273.15) + \" \"}\r\n                <RiCelsiusFill />\r\n              </p>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n});\r\n\r\nexport default PopularCities;\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport $ from \"jquery\";\r\n\r\nimport { BsSearch } from \"react-icons/bs\";\r\n\r\nimport actions from \"../actions\";\r\nimport { weatherByCity } from \"../api\";\r\n\r\nimport useUserId from \"../utility/useUserId\";\r\n\r\nimport WeatherCard from \"./WeatherCard\";\r\nimport PopularCities from \"./PopularCities\";\r\n\r\nconst Home = ({ user, logout }) => {\r\n  const cityRef = useRef(null);\r\n\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [details, setDetails] = useState({});\r\n  const [showCard, setShowCard] = useState(false);\r\n  const [error, setError] = useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  const getUserDetails = useUserId();\r\n\r\n  useEffect(() => {\r\n    $(\"body\").css(\"background-image\", \"linear-gradient(#0a58ca, #0dcaf0)\");\r\n  }, []);\r\n\r\n  useEffect(async () => {\r\n    const { userId, token } = await getUserDetails();\r\n\r\n    if (token) {\r\n      setUserId(userId);\r\n    }\r\n  }, [user]);\r\n\r\n  const handelSubmit = async (e) => {\r\n    if (e) e.preventDefault();\r\n\r\n    const city = cityRef.current.value;\r\n    if (!city) {\r\n      return alert(\"You must search a city\");\r\n    }\r\n\r\n    cityRef.current.value = \"\";\r\n    if (city && userId) {\r\n      try {\r\n        setError(false);\r\n        const { data } = await weatherByCity(city, userId);\r\n        const { result } = data;\r\n        const { weather } = result;\r\n        setDetails(weather);\r\n        setShowCard(true);\r\n      } catch (error) {\r\n        if (error.response && error.response.status === 401) {\r\n          logout();\r\n          history.push(\"/\");\r\n        }\r\n        setError(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"10px\" }}>\r\n      {error && (\r\n        <div className=\"alert alert-danger home-alert\" role=\"alert\">\r\n          No city were found! Try again\r\n        </div>\r\n      )}\r\n      <form className=\"search-form center\" onSubmit={handelSubmit}>\r\n        <BsSearch className=\"serach-icon\" />\r\n        <input type=\"text\" placeholder=\"Search a city\" ref={cityRef} />\r\n      </form>\r\n      {showCard && <WeatherCard weatherDetails={details} />}\r\n      <PopularCities handleClick={handelSubmit} ref={cityRef} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.auth.user,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    logout: () => dispatch(actions.logout()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import React from \"react\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"d-flex justify-content-center\">\r\n      <div className=\"spinner-border spin\" role=\"status\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\n\r\nimport Modal from \"react-modal\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst ClearHistoryPopup = ({ modalIsOpen, setIsOpen, clearHistory }) => {\r\n  function closeModal() {\r\n    setIsOpen(false);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        isOpen={modalIsOpen}\r\n        onRequestClose={closeModal}\r\n        overlayClassName={{\r\n          base: \"overlay-base\",\r\n          afterOpen: \"overlay-after\",\r\n          beforeClose: \"overlay-before\",\r\n        }}\r\n        className={{\r\n          base: \"content-base\",\r\n          afterOpen: \"content-after\",\r\n          beforeClose: \"content-before\",\r\n        }}\r\n      >\r\n        <div className=\"line-up\"></div>\r\n\r\n        <Container style={{ padding: \"20px\" }}>\r\n          <Row>\r\n            <Col>\r\n              <p style={{ whiteSpace: \"normal\", textAlign: \"center\" }}>\r\n                Are You Sure You Want To Clear You'r History?\r\n              </p>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"buttons-container\">\r\n            <Col style={{ padding: \"0\" }}>\r\n              <Button className=\"cancel-btn\" onClick={() => setIsOpen(false)}>\r\n                Cancel\r\n              </Button>\r\n            </Col>\r\n            <Col style={{ padding: \"0\", marginLeft: \"5px\" }}>\r\n              <Button className=\"clear-btn\" onClick={clearHistory}>\r\n                Clear\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClearHistoryPopup;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { BsSearch } from \"react-icons/bs\";\r\n\r\nimport $ from \"jquery\";\r\n\r\nimport useUserId from \"../utility/useUserId\";\r\nimport { getSearches, deletAllSearches } from \"../api\";\r\nimport actions from \"../actions\";\r\n\r\nimport WeatherCard from \"./WeatherCard\";\r\nimport Spinner from \"./Spinner\";\r\nimport ClearHistoryPopup from \"./ClearHistoryPopup\";\r\n\r\nconst History = ({ setSearchHistory, searchHistory }) => {\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const getUserDetails = useUserId();\r\n\r\n  useEffect(() => {\r\n    $(\"body\").css(\"background-image\", \"linear-gradient(#0a58ca, #0dcaf0)\");\r\n  }, []);\r\n\r\n  useEffect(async () => {\r\n    setIsLoading(true);\r\n\r\n    const { userId, token } = await getUserDetails();\r\n\r\n    if (token) {\r\n      setUserId(userId);\r\n      if (userId) setSearches();\r\n    }\r\n  }, [userId]);\r\n\r\n  const setSearches = async () => {\r\n    if (userId) {\r\n      try {\r\n        const { data } = await getSearches(userId);\r\n        const { searches } = data;\r\n        setSearchHistory(searches);\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const clearHistory = async () => {\r\n    if (userId) {\r\n      setSearchHistory([]);\r\n      try {\r\n        await deletAllSearches(userId);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  if (searchHistory.length === 0 && isLoading === false)\r\n    return (\r\n      <div style={{ display: \"grid\", flexWrap: \"wrap\" }}>\r\n        <h1 className=\"header\">You have no searches</h1>\r\n        <BsSearch className=\"search-icon\" />\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <>\r\n      <ClearHistoryPopup\r\n        modalIsOpen={isOpen}\r\n        setIsOpen={setIsOpen}\r\n        clearHistory={clearHistory}\r\n      />\r\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n        <h1 className=\"header\">Searches history</h1>\r\n        <button\r\n          className=\"btn clear-history-btn\"\r\n          onClick={() => setIsOpen(true)}\r\n        >\r\n          Clear history\r\n        </button>\r\n        <div className=\"searches-container\">\r\n          {searchHistory.map((item, index) => (\r\n            <WeatherCard key={index} weatherDetails={item} isHistory={true} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    searchHistory: state.user.searchHistory,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setSearchHistory: (data) => dispatch(actions.setSearchHistory(data)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(History);\r\n","export default __webpack_public_path__ + \"static/media/sky.e25edaf4.jpg\";","import React from \"react\";\r\n\r\nconst Backdrop = () => {\r\n  return (\r\n    <div className=\"backdrop-screen\">\r\n      <div className=\"spinner-grow text-primary sign-in-spinner\" role=\"status\">\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Backdrop;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport $ from \"jquery\";\r\n\r\nimport weather from \"../assets/sky.jpg\";\r\n\r\nimport actions from \"../actions\";\r\nimport { signIn, signUp } from \"../api\";\r\nimport Backdrop from \"./Backdrop\";\r\n\r\nconst Auth = ({ auth }) => {\r\n  const [isSignUp, setIsSignUp] = useState(true);\r\n  const [displayBackdrop, setDisplayBackdrop] = useState(false);\r\n\r\n  const emailRef = useRef(null);\r\n  const passwordRef = useRef(null);\r\n  const confirmPasswordRef = useRef(null);\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    $(\"body\").css(\"background-image\", `url(\"${weather}\")`);\r\n  }, []);\r\n\r\n  const toastError = (message) => {\r\n    toast.error(message, {\r\n      position: \"top-center\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  };\r\n\r\n  const handelSignUp = async (formData) => {\r\n    try {\r\n      setDisplayBackdrop(true);\r\n      const { data } = await signUp(formData);\r\n      auth(data);\r\n      setDisplayBackdrop(false);\r\n      history.push(\"/home\");\r\n    } catch (error) {\r\n      setDisplayBackdrop(false);\r\n      if (error.response && error.response.status === 409)\r\n        toastError(\"User already exists\");\r\n      else toastError(\"Problem occurred. Please try again later\");\r\n    }\r\n  };\r\n\r\n  const handelSignIn = async (formData) => {\r\n    try {\r\n      setDisplayBackdrop(true);\r\n      const { data } = await signIn(formData);\r\n      auth(data);\r\n      setDisplayBackdrop(false);\r\n      history.push(\"/home\");\r\n    } catch (error) {\r\n      setDisplayBackdrop(false);\r\n      if (error.response && error.response.status === 401)\r\n        toastError(\r\n          \"Authentication failed. Please check you'r email and password\"\r\n        );\r\n      else toastError(\"Problem occurred. Please try again later\");\r\n    }\r\n  };\r\n\r\n  const handelSubmit = (e) => {\r\n    e.preventDefault();\r\n    const email = emailRef.current.value;\r\n    const password = passwordRef.current.value;\r\n\r\n    emailRef.current.style.borderColor = \"#ced4da\";\r\n    passwordRef.current.style.borderColor = \"#ced4da\";\r\n\r\n    if (!email) {\r\n      emailRef.current.style.borderColor = \"red\";\r\n      return toastError(\"You must fill you'r email\");\r\n    }\r\n\r\n    if (!password) {\r\n      passwordRef.current.style.borderColor = \"red\";\r\n      return toastError(\"You must provide a password\");\r\n    }\r\n\r\n    if (!isSignUp) {\r\n      const confirmPassword = confirmPasswordRef.current.value;\r\n      confirmPasswordRef.current.style.borderColor = \"#ced4da\";\r\n\r\n      if (!confirmPassword) {\r\n        confirmPasswordRef.current.style.borderColor = \"red\";\r\n        return toastError(\"You must confirm you'r password\");\r\n      }\r\n\r\n      if (password.length < 6) {\r\n        passwordRef.current.style.borderColor = \"red\";\r\n        return toastError(\"Passwords must contain at least 6 characters\");\r\n      }\r\n\r\n      if (password !== confirmPassword) {\r\n        passwordRef.current.style.borderColor = \"red\";\r\n        confirmPasswordRef.current.style.borderColor = \"red\";\r\n        return toastError(\"Passwords doesn't match\");\r\n      }\r\n    }\r\n\r\n    if (!isSignUp) handelSignUp({ email, password });\r\n    else handelSignIn({ email, password });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {displayBackdrop && <Backdrop />}\r\n      <form className=\"auth-form\" onSubmit={handelSubmit}>\r\n        <div className=\"mb-3\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email address\"\r\n            className=\"form-control\"\r\n            aria-describedby=\"emailHelp\"\r\n            ref={emailRef}\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword1\"\r\n            ref={passwordRef}\r\n          />\r\n        </div>\r\n        {!isSignUp && (\r\n          <div className=\"mb-3\">\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Confirm password\"\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword2\"\r\n              ref={confirmPasswordRef}\r\n            />\r\n          </div>\r\n        )}\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn\"\r\n          style={{ backgroundColor: \"#4993ff\", color: \"white\" }}\r\n        >\r\n          Submit\r\n        </button>\r\n        <br />\r\n        <br />\r\n        {isSignUp ? (\r\n          <>\r\n            <p className=\"change-mode\">Don't have an account yet?</p>\r\n            <p className=\"sign\" onClick={() => setIsSignUp(!isSignUp)}>\r\n              Sign up\r\n            </p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <p className=\"change-mode\">Already have an account?</p>\r\n            <p className=\"sign\" onClick={() => setIsSignUp(!isSignUp)}>\r\n              Sign In\r\n            </p>\r\n          </>\r\n        )}\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    auth: (data) => dispatch(actions.auth(data)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Auth);\r\n","import \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { ToastContainer, Slide } from \"react-toastify\";\n\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./components/Home\";\nimport History from \"./components/History\";\nimport Auth from \"./components/Auth\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Navbar />\n        <Switch>\n          <Route exact path=\"/\" component={Auth} />\n          <Route path=\"/home\" component={Home} />\n          <Route path=\"/history\" component={History} />\n        </Switch>\n      </Router>\n      <ToastContainer\n        position=\"top-center\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        transition={Slide}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n    </div>\n  );\n}\n\nexport default App;\n","function convertActionNameToLowerCase(actionName) {\r\n  return actionName.toLowerCase().replace(/_(\\w)/g, (v) => v[1].toUpperCase());\r\n}\r\n\r\nexport default function reducersHandlers(state, action, handlers){\r\n    let key = convertActionNameToLowerCase(action.type);\r\n    let handler = handlers[key];\r\n    if(handler) handler(state, action);\r\n}","import produce from \"immer\";\r\nimport reducerHendler from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n  searchHistory: [],\r\n};\r\n\r\nconst user = {\r\n  setSearchHistory(state, action) {\r\n    state.searchHistory = action.payload;\r\n  },\r\n  deleteSearch(state, action) {\r\n    state.searchHistory = state.searchHistory.filter(\r\n      (search) => search._id !== action.payload\r\n    );\r\n  },\r\n};\r\n\r\nconst reducer = produce((state, action) => {\r\n  reducerHendler(state, action, user);\r\n}, initialState);\r\n\r\nexport default reducer;\r\n","import produce from \"immer\";\r\nimport handler from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n  authData: null,\r\n  user: JSON.parse(localStorage.getItem(\"profile\")),\r\n};\r\n\r\nconst auth = {\r\n  auth(state, action) {\r\n    localStorage.setItem(\"profile\", JSON.stringify(action?.payload));\r\n    state.authData = action?.data;\r\n    state.user = JSON.parse(localStorage.getItem(\"profile\"));\r\n  },\r\n  logout(state, action) {\r\n    localStorage.clear();\r\n    state.authData = null;\r\n    state.user = null;\r\n  },\r\n  setUser(state, action) {\r\n    state.user = action.payload;\r\n  },\r\n};\r\n\r\nconst reducer = produce((state, action) => {\r\n  handler(state, action, auth);\r\n}, initialState);\r\n\r\nexport default reducer;\r\n","import { createStore, combineReducers } from \"redux\";\r\n\r\nimport user from \"../reducers/user\";\r\nimport auth from \"../reducers/auth\";\r\n\r\nconst reducer = combineReducers({ user, auth });\r\n\r\nconst store = createStore(reducer);\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}